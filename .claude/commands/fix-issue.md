Please analyze and fix the GitHub issue: $ARGUMENTS

Follow these steps:

1. Use `gh issue view $ARGUMENTS` to get issue details
2. Search the codebase for relevant files
3. Create a test that reproduces the issue
4. Implement the fix
5. Verify all tests pass
6. Create a descriptive commit message
7. Push and create a PR with:
   - Link to the issue
   - Summary of changes
   - Test coverage information

IMPORTANT: Use thinking mode to plan before implementing
